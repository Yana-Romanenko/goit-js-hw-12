import{S as v,i as n,a as f}from"./assets/vendor-89feecc5.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))e(o);new MutationObserver(o=>{for(const t of o)if(t.type==="childList")for(const g of t.addedNodes)g.tagName==="LINK"&&g.rel==="modulepreload"&&e(g)}).observe(document,{childList:!0,subtree:!0});function a(o){const t={};return o.integrity&&(t.integrity=o.integrity),o.referrerpolicy&&(t.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?t.credentials="include":o.crossorigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function e(o){if(o.ep)return;o.ep=!0;const t=a(o);fetch(o.href,t)}})();const k=document.querySelector(".picture-search-form"),q=document.querySelector(".picture-search-name"),i=document.querySelector(".loader-container"),l=document.querySelector(".gallery"),c=document.querySelector(".load-more-button"),y=new v(".gallery a",{captionDelay:250,captionsData:"alt",close:!0}),h="41764451-f0ee5e8d00846e21c9f97a054";let d=1,m="",u=0,x=0;function w(){i.style.display="block"}function p(){i.style.display="none"}k.addEventListener("submit",async s=>{s.preventDefault(),d=1,l.innerHTML="";const r=q.value.trim();if(!r){n.error({title:"Error",message:"Please, enter something!",position:"topRight"});return}m=r,w(),i.textContent="Loading images, please wait...";try{const e=(await f.get("https://pixabay.com/api/",{params:{key:h,q:m,image_type:"photo",orientation:"horizontal",safesearch:!0,page:d,per_page:40}})).data;if(p(),e.hits&&e.hits.length>0){u=e.totalHits;const o=e.hits.map(t=>({url:t.webformatURL,alt:t.tags,largeUrl:t.largeImageURL,likes:t.likes,views:t.views,comments:t.comments,downloads:t.downloads}));c.style.display="none",L(o),window.scrollBy({top:x*2,behavior:"smooth"})}else n.info({title:"Info",message:"Sorry, there are no images matching your search query. Please try again!",position:"topRight"})}catch{n.error({title:"Error",message:"An error occurred while fetching data. Please try again later.",position:"topRight"})}finally{i.textContent="",p(),b()}});c.addEventListener("click",async()=>{i.textContent="Loading images, please wait...",w();try{const r=(await f.get("https://pixabay.com/api/",{params:{key:h,q:m,image_type:"photo",orientation:"horizontal",safesearch:!0,page:d,per_page:40}})).data;if(p(),r.hits&&r.hits.length>0){u=r.totalHits;const a=r.hits.map(e=>({url:e.webformatURL,alt:e.tags,largeUrl:e.largeImageURL,likes:e.likes,views:e.views,comments:e.comments,downloads:e.downloads}));L(a),y.refresh()}else n.info({title:"Info",message:"No more images to load.",position:"topRight"})}catch{n.error({title:"Error",message:"An error occurred while fetching data. Please try again later.",position:"topRight"})}finally{i.textContent="",p()}b()});function L(s){const r=s.reduce((a,e)=>a+`
        <a href="${e.largeUrl}" data-lightbox="gallery" data-title="Likes: ${e.likes}, 
        Views: ${e.views},
         Comments: ${e.comments}, 
         Downloads: ${e.downloads}">
          <img src="${e.url}" alt="${e.alt}" />
        </a>`,"");l.insertAdjacentHTML("beforeend",r),y.refresh()}function b(){u>l.children.length?c.style.display="block":(c.style.display="none",l.children.length>0&&d>1&&u===l.children.length&&n.info({title:"Info",message:"We're sorry, but you've reached the end of search results",position:"topRight"}))}
//# sourceMappingURL=commonHelpers.js.map
